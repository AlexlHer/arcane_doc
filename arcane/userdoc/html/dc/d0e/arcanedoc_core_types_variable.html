<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta name="generator" content="Doxygen 1.9.5" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Arcane: Variable</title>
    <link href="../../tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="../../jquery.js"></script>
    <script type="text/javascript" src="../../dynsections.js"></script>
    <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
    <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
    <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../user_colors.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
    <script type="text/javascript" src="../../script-resize.js"></script>
    <script type="text/javascript" src="../../script-num-lines-code.js"></script>
    <script type="text/javascript">
      DoxygenAwesomeDarkModeToggle.title = "Thème clair/sombre";
      DoxygenAwesomeDarkModeToggle.init();
      DoxygenAwesomeFragmentCopyButton.title = "Copier le code dans le presse-papier";
      DoxygenAwesomeFragmentCopyButton.init();
      DoxygenAwesomeParagraphLink.init();
      DoxygenAwesomeInteractiveToc.init();
      waitElemForResizeSideNav();
      setOldSize();
    </script>
  </head>
  <body>
    <!--BEGIN CORNER_GITHUB-->
    <!-- https://tholman.com/github-corners/ -->
    <a href="https://github.com/arcaneframework/framework" class="github-corner" aria-label="Voir les sources sur GitHub">
      <svg width="70" height="70" viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor" class="octo-body"></path>
      </svg>
    </a>
    <!--END CORNER_GITHUB-->
      <div id="top">
        <!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
          <table cellspacing="0" cellpadding="0">
            <tbody>
              <tr id="projectrow">
                <td id="projectlogo">
                  <a href="../../index.html" title="Aller à la page principale">
                    <img alt="Logo" src="../../cea_ifpen_logo.png" />
                  </a>
                </td>
              </tr>
              <tr id="projectrow">
                <td id="projectalign">
                  <div id="projectname">Arcane
                    <span id="projectnumber">&#160;v3.7.0.0</span>
                  </div>
                  <div id="projectbrief">Documentation utilisateur</div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- end header part --><!-- Généré par Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dc/d0e/arcanedoc_core_types_variable.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Chargement...</div>
<div class="SRStatus" id="Searching">Recherche...</div>
<div class="SRStatus" id="NoMatches">Aucune correspondance</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Variable </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table des matières</h3>
<ul><li class="level1"><a href="#arcanedoc_core_types_variable_types">Type</a></li>
<li class="level1"><a href="#arcanedoc_core_types_variable_support">Support</a></li>
<li class="level1"><a href="#arcanedoc_core_types_variable_dim">Dimension</a></li>
<li class="level1"><a href="#arcanedoc_core_types_variable_cppclass">Classe C++</a></li>
<li class="level1"><a href="#arcanedoc_core_types_variable_declare">Déclaration</a></li>
<li class="level1"><a href="#arcanedoc_core_types_variable_use">Utilisation</a></li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="md_doc_doc_user_chap_core_types_2_variable"></a></p>
<p >Une variable est une valeur manipulée par le code et gérée par Arcane. Par exemple le volume, la vitesse, sont des variables. Elle sont caractérisées par un <b>nom</b>, un <b>type</b>, un <b>support</b> et une <b>dimension</b>.</p>
<p >Les variables sont déclarées à l'intérieur d'un module, au sein du descripteur de module.</p>
<p >Si deux modules utilisent des variables de même nom, leurs valeurs seront implicitement partagées. C'est par ce moyen que les modules communiquent leurs informations.</p>
<h1><a class="anchor" id="arcanedoc_core_types_variable_types"></a>
Type</h1>
<p >Les <b>types</b> des variables sont :</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Nom C++   </th><th class="markdownTableHeadNone">Type    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Integer</b>   </td><td class="markdownTableBodyNone">entier signé (Arcane::Integer)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Int16</b>   </td><td class="markdownTableBodyNone">entier signé sur 16 bits (Arcane::Int16)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Int32</b>   </td><td class="markdownTableBodyNone">entier signé sur 32 bits (Arcane::Int32)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Int64</b>   </td><td class="markdownTableBodyNone">entier signé sur 64 bits (Arcane::Int64)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Byte</b>   </td><td class="markdownTableBodyNone">représente un caractère sur 8 bits (<a class="el" href="../../d0/d32/namespaceArcane.html#ab8a647feabd759fae601d29f827568ec" title="Type d&#39;un octet.">Arcane::Byte</a>)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Real</b>   </td><td class="markdownTableBodyNone">réel IEEE 754 (Arcane::Real)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Real2</b>   </td><td class="markdownTableBodyNone">coordonnée 2D, vecteur de deux réels (<a class="el" href="../../d6/d24/classArcane_1_1Real2.html" title="Classe gérant un vecteur de réel de dimension 2.">Arcane::Real2</a>)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Real3</b>   </td><td class="markdownTableBodyNone">coordonnée 3D, vecteur de trois réels (<a class="el" href="../../d1/da6/classArcane_1_1Real3.html" title="Classe gérant un vecteur de réel de dimension 3.">Arcane::Real3</a>)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Real2x2</b>   </td><td class="markdownTableBodyNone">tenseur 2D, vecteur de quatre réels (<a class="el" href="../../da/d4a/classArcane_1_1Real2x2.html" title="Classe gérant une matrice de réel de dimension 2x2.">Arcane::Real2x2</a>)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Real3x3</b>   </td><td class="markdownTableBodyNone">tenseur 3D, vecteur de neufs réels (<a class="el" href="../../d9/da0/classArcane_1_1Real3x3.html" title="Classe gérant une matrice de réel de dimension 3x3.">Arcane::Real3x3</a>)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>String</b>   </td><td class="markdownTableBodyNone">chaîne de caractères unicode (Arcane::String)   </td></tr>
</table>
<p >Par défaut, les entiers sont stockés sur 4 octets mais il est possible de passer sur 8 octets en compilant avec la macro <code>ARCANE_64BIT</code>. Les flottants (<em>Real</em>, <em>Real2</em>, <em>Real2x2</em>, <em>Real3</em>, <em>Real3x3</em>) sont des réels double précisions (stockés sur 8 octets).</p>
<h1><a class="anchor" id="arcanedoc_core_types_variable_support"></a>
Support</h1>
<p >Le <b>support</b> correspond à l'entité qui porte la variable, sur laquelle la variable est définie. Ces variables qui s'appliquent sur des éléments du maillage sont appelées des <b>grandeurs</b>.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Nom C++   </th><th class="markdownTableHeadNone">Support    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">(vide)   </td><td class="markdownTableBodyNone">variable définie globalement (ex : pas de temps)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Node</b>   </td><td class="markdownTableBodyNone">noeud du maillage (<a class="el" href="../../d8/dd7/classArcane_1_1Node.html" title="Noeud d&#39;un maillage.">Arcane::Node</a>)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Face</b>   </td><td class="markdownTableBodyNone">face du maillage (<a class="el" href="../../d1/db1/classArcane_1_1Face.html" title="Face d&#39;une maille.">Arcane::Face</a>)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Cell</b>   </td><td class="markdownTableBodyNone">maille du maillage (<a class="el" href="../../d9/db2/classArcane_1_1Cell.html" title="Maille d&#39;un maillage.">Arcane::Cell</a>)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Particle</b>   </td><td class="markdownTableBodyNone">particule du maillage (<a class="el" href="../../dd/d6c/classArcane_1_1Particle.html" title="Particule.">Arcane::Particle</a>)   </td></tr>
</table>
<h1><a class="anchor" id="arcanedoc_core_types_variable_dim"></a>
Dimension</h1>
<p >La <b>dimension</b> peut être:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Nom C++   </th><th class="markdownTableHeadNone">Dimension    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Scalar</b>   </td><td class="markdownTableBodyNone">scalaire    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Array</b>   </td><td class="markdownTableBodyNone">tableau 1D    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Array2</b>   </td><td class="markdownTableBodyNone">tableau 2D   </td></tr>
</table>
<h1><a class="anchor" id="arcanedoc_core_types_variable_cppclass"></a>
Classe C++</h1>
<p >Il est aisé d'obtenir la classe C++ correspondant à un type, un support et à une dimension donnés. Le nom de la classe est construit de la manière suivante :</p>
<p ><b>Variable</b> + <b>support</b> + <b>dimension</b> + <b>type</b></p>
<p >Par exemple, pour une variable représentant un tableau d'entiers <b>VariableArrayInteger</b>, pour une variable représentant un réel <b>VariableScalarReal</b>.</p>
<p >Quand une variable scalaire est définie sur une entité du maillage le support (<em>Scalar</em>) n'est pas précisé. Par exemple, pour une variable représentant un réel aux mailles <b>VariableCellReal</b>.</p>
<p >Tous les combinaisons sont possibles aux exceptions suivantes:</p><ul>
<li>les variables de type <em>chaîne de caractères</em> qui n'existent que pour les genres scalaires et tableaux mais pas sur les éléments du maillage (pour des raisons de performances).</li>
<li>Les variables de dimension 2 ne peuvent pas avoir de support (il n'est pas possible d'avoir des variables 2D aux mailles par exemple.</li>
</ul>
<p >Le tableau suivant donne quelques exemples de variables:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Nom C++   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#gae100d56dd1a1231ec970073bcf0572da" title="Variable scalaire de type réel.">Arcane::VariableScalarReal</a>   </td><td class="markdownTableBodyNone">un réel    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#gaffd64d38d2546b294fcf9fc05aa3c465" title="Variable scalaire de type entier.">Arcane::VariableScalarInteger</a>   </td><td class="markdownTableBodyNone">un entier    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#ga6d109da7bef7d823687f9636c8935da8" title="Variable tableau de type entier.">Arcane::VariableArrayInteger</a>   </td><td class="markdownTableBodyNone">Tableau d'entiers    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#ga964ae3a2259afb2022336cbd549194d5" title="Variable tableau de type coordonnées (x,y,z)">Arcane::VariableArrayReal3</a>   </td><td class="markdownTableBodyNone">Tableau de coordonnées 3D    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#ga8a3da822e65f4631b8d9b9f3987c2352" title="Grandeur au noeud de type coordonnées.">Arcane::VariableNodeReal2</a>   </td><td class="markdownTableBodyNone">Coordonnée 2D aux noeuds    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#ga53dac1124aca5fcb6c634530641608b4" title="Grandeur aux faces de type réel.">Arcane::VariableFaceReal</a>   </td><td class="markdownTableBodyNone">Réel aux faces    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#gadca3b7b1011b6f67f4b619cf0f1e3090" title="Grandeur aux faces de type coordonnées.">Arcane::VariableFaceReal3</a>   </td><td class="markdownTableBodyNone">Coordonnée 3D aux faces    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#ga27dcbd39bdd8ac855e592c23518d6db9" title="Grandeur aux faces de type tableau d&#39;entiers.">Arcane::VariableFaceArrayInteger</a>   </td><td class="markdownTableBodyNone">Tableau d'entiers aux faces    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#gaee6feded16c556185773d761fc09796f" title="Grandeur au centre des mailles de type tableau de réel.">Arcane::VariableCellArrayReal</a>   </td><td class="markdownTableBodyNone">Tableau de réels aux mailles    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#gaf7f4a257c36daa5cc99309395e330d81" title="Grandeur au centre des mailles de type tableau de coordonnées.">Arcane::VariableCellArrayReal3</a>   </td><td class="markdownTableBodyNone">Tableau de coordonnées 3D aux mailles    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="../../d3/d00/group__Variable.html#gaadbc21e4c4f4dd3106b27be9bd964694" title="Grandeur au centre des mailles de type tableau de tenseur de réels.">Arcane::VariableCellArrayReal2x2</a>   </td><td class="markdownTableBodyNone">Tableau de tenseurs 2D aux mailles   </td></tr>
</table>
<h1><a class="anchor" id="arcanedoc_core_types_variable_declare"></a>
Déclaration</h1>
<p >La déclaration des variables se fait par l'intermédiaire du descripteur un module.</p>
<p >Par exemple, on déclare dans le module <code>Test</code> une variable de type réel aux mailles appelée <code>Pressure</code> et une variable de type réel aux noeuds appelée <code>NodePressure</code>.</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Test&quot;</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">name</span> <span class="keyword">lang</span>=<span class="stringliteral">&quot;fr&quot;</span>&gt;<span class="keyword">Test</span>&lt;/<span class="keywordtype">name</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">description</span>&gt;<span class="keyword">Descripteur</span> <span class="keyword">du</span> <span class="keyword">module</span> <span class="keyword">Test</span>&lt;/<span class="keywordtype">description</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">variables</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">variable</span></div>
<div class="line">      <span class="keyword">field-name</span>=<span class="stringliteral">&quot;pressure&quot;</span></div>
<div class="line">      <span class="keyword">name</span>=<span class="stringliteral">&quot;Pressure&quot;</span></div>
<div class="line">      <span class="keyword">data-type</span>=<span class="stringliteral">&quot;real&quot;</span></div>
<div class="line">      <span class="keyword">item-kind</span>=<span class="stringliteral">&quot;cell&quot;</span></div>
<div class="line">      <span class="keyword">dim</span>=<span class="stringliteral">&quot;0&quot;</span></div>
<div class="line">      <span class="keyword">dump</span>=<span class="stringliteral">&quot;true&quot;</span></div>
<div class="line">      <span class="keyword">need-sync</span>=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">    &lt;<span class="keywordtype">variable</span></div>
<div class="line">      <span class="keyword">field-name</span>=<span class="stringliteral">&quot;node_pressure&quot;</span></div>
<div class="line">      <span class="keyword">name</span>=<span class="stringliteral">&quot;NodePressure&quot;</span></div>
<div class="line">      <span class="keyword">data-type</span>=<span class="stringliteral">&quot;real&quot;</span></div>
<div class="line">      <span class="keyword">item-kind</span>=<span class="stringliteral">&quot;node&quot;</span></div>
<div class="line">      <span class="keyword">dim</span>=<span class="stringliteral">&quot;0&quot;</span></div>
<div class="line">      <span class="keyword">dump</span>=<span class="stringliteral">&quot;true&quot;</span></div>
<div class="line">      <span class="keyword">need-sync</span>=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">   &lt;/<span class="keywordtype">variables</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">entry-points</span>/&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">options</span>/&gt;</div>
<div class="line">&lt;/<span class="keywordtype">module</span>&gt;</div>
</div><!-- fragment --><p >Les attributs suivants sont disponibles:</p>
<table class="doxtable">
<tr>
<th>Attribut </th><th>Description  </th></tr>
<tr>
<td><b>name</b>  </td><td>nom de la variable. Par convention, elle commence par une majuscule. Les caractères valides sont les caractères alphabétiques <b>[a-zA-Z]</b>, les chiffres (sauf au début du nom) et le caractère souligné. Les variables dont le nom commence par <em>Global</em> et <em>Arcane</em> sont réservées pour Arcane.   </td></tr>
<tr>
<td><b>field-name</b>  </td><td>nom information du champ de la variable dans la classe générée. Ce nom doit être un nom valide en C++. Par convention, si la variable s'appelle <em>NodePressure</em> par exemple, le champ sera <b>node_pressure</b>. Dans la classe générée, le nom spécifié sera préfixé de <b>m_</b> (le préfixage <code>m_</code> correspond aux <a class="el" href="../../da/d3b/arcanedoc_general_codingrules.html">règles de codage</a> dans Arcane pour les attributs de classe).   </td></tr>
<tr>
<td><b>item-kind</b>  </td><td>support de la variable. Les valeurs possibles sont <code>node</code>, <code>face</code>, <code>cell</code> ou <code>none</code>. La valeur <code>none</code> indique qu'il ne s'agit pas d'une variable du maillage. A noter qu'il n'est pas (encore) possible de déclarer dans le fichier axl les variables ayant comme support des particules (Particle) ou liens (Link).   </td></tr>
<tr>
<td><b>data-type</b>  </td><td>type de données de la variable. Il s'agit au choix de <em>integer</em>, <em>int16</em>, <em>int32</em>, <em>int64</em>, <em>real</em>, <em>string</em>, <em>real2</em>, <em>real3</em>, <em>real2x2</em>, <em>real3x3</em>. Le type *string8 n'est pas utilisable pour les variables du maillage (celles ayant un support).   </td></tr>
<tr>
<td><b>dim</b>  </td><td>La dimension de la variables. Les valeurs possibles sont <em>0</em> pour une variable scalaire, <em>1</em> pour une variable tableau à une dimension et <em>2</em> pour un tableau à deux dimensions. Les tableaux à deux dimensions ne sont pas supportés pour les variables du maillage.   </td></tr>
<tr>
<td><b>dump</b>  </td><td>permet de choisir si les valeurs d'une variable sont sauvegardées lors d'un arrêt du code. Dans ce cas, les valeurs sauvegardées seront, bien entendu, relues lors d'une reprise d'exécution. Certaines variables recalculées n'ont pas besoin d'être sauvegardées ; dans ce cas l'attribut <em>dump</em> vaut *fals*e. C'est le cas lorsque la valeur d'une variable n'est pas utile d'une itération à l'autre.   </td></tr>
<tr>
<td><b>need-sync</b>  </td><td>indique si la variable doit être synchronisé entre sous-domaines. Il s'agit juste d'une indication qui peut être utilisée lors de vérifications.   </td></tr>
</table>
<p >Lors de la compilation du descripteur de module par Arcane (avec <code>axl2cc</code> - cf précédemment), les variables sont enregistrées au sein de la base de données de l'architecture.</p>
<h1><a class="anchor" id="arcanedoc_core_types_variable_use"></a>
Utilisation</h1>
<p >La manière d'utiliser une variable est identique quel que soit son type et ne dépend que de son genre.</p>
<p ><b>Variables scalaires</b></p>
<p >Les variables scalaires sont utilisées par l'intermédiaire de la classe template <a class="el" href="../../d0/db7/classArcane_1_1VariableRefScalarT.html" title="Référence à une variable scalaire.">Arcane::VariableRefScalarT</a>.</p>
<p >Il n'y a que deux possibilités d'utilisation :</p>
<ul>
<li>"lire la valeur" : cela se fait par l'opérateur() (VariableRefScalarT::operator()()). Cet opérateur retourne une référence constante sur la valeur stockée dans la variable. Il peut être utilisé partout ou l'on veut utiliser une valeur du type de la variable.</li>
<li>"changer la valeur" : cela se fait par l'opérateur = (Arcane::VariableRefScalarT::operator=())</li>
</ul>
<p >Par exemple, avec la variable <code>m_time</code> de type <code>VariableScalarReal</code> :</p>
<div class="fragment"><div class="line">m_time = 5.;         <span class="comment">// affecte la valeur 5. à la variable m_time</span></div>
<div class="line"><span class="keywordtype">double</span> z = m_time(); <span class="comment">// récupère la valeur de la variable et l&#39;affecte à z.</span></div>
<div class="line">cout &lt;&lt; m_time();    <span class="comment">// imprime la valeur de m_time</span></div>
</div><!-- fragment --><p >L'important est de ne pas oublier les parenthèses lorsqu'on veut accéder à la valeur de la variable.</p>
<p ><b>Variables tableaux</b></p>
<p >Les variables tableaux sont utilisées par l'intermédiaire de la classe template <em><a class="el" href="../../d8/d30/classArcane_1_1VariableRefArrayT.html" title="Variable tableau.">Arcane::VariableRefArrayT</a></em>.</p>
<p >Leur fonctionnement est assez similaire à la classe <code>vector</code> de la STL. Le dimensionnement du tableau se fait par la méthode <a class="el" href="../../d8/d30/classArcane_1_1VariableRefArrayT.html#ab6a547ffc70e3c72e395f55f812ad2e2" title="Redimensionne le tableau pour contenir new_size éléments.">Arcane::VariableRefArrayT::resize()</a> et chaque élément du tableau peut être accédé par l'opérateur <a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html#acd7b7f6238da4b76800b781f8a48d71f" title="i-ème élément du tableau.">Arcane::VariableRefArrayT::operator[]()</a> qui retourne une référence sur le type des éléments du tableau.</p>
<p >Par exemple, avec la variable <em>m_times</em> de type <em>VariableArrayReal</em>:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="../../d8/d30/classArcane_1_1VariableRefArrayT.html">Arcane::VariableArrayReal</a> m_times = ...;</div>
<div class="line">m_times.<a class="code hl_function" href="../../d8/d30/classArcane_1_1VariableRefArrayT.html#ab6a547ffc70e3c72e395f55f812ad2e2">resize</a>(5);         <span class="comment">// redimensionne le tableau pour contenir 5 éléments</span></div>
<div class="line">m_times[3] = 2.0;          <span class="comment">// affecte la valeur 2.0 au 4ème élément du tableau</span></div>
<div class="line">cout &lt;&lt; m_times[0];        <span class="comment">// imprime la valeur du premier élément</span></div>
<div class="ttc" id="aclassArcane_1_1VariableRefArrayT_html"><div class="ttname"><a href="../../d8/d30/classArcane_1_1VariableRefArrayT.html">Arcane::VariableRefArrayT</a></div><div class="ttdoc">Variable tableau.</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db8/VariableRefArray_8h_source.html#l00036">VariableRefArray.h:39</a></div></div>
<div class="ttc" id="aclassArcane_1_1VariableRefArrayT_html_ab6a547ffc70e3c72e395f55f812ad2e2"><div class="ttname"><a href="../../d8/d30/classArcane_1_1VariableRefArrayT.html#ab6a547ffc70e3c72e395f55f812ad2e2">Arcane::VariableRefArrayT::resize</a></div><div class="ttdeci">virtual void resize(Integer new_size)</div><div class="ttdoc">Redimensionne le tableau pour contenir new_size éléments.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d44/VariableRefArray_8cc_source.html#l00141">VariableRefArray.cc:142</a></div></div>
</div><!-- fragment --><p ><b>Variables scalaires sur le maillage</b></p>
<p >Il s'agit des variables sur les éléments du maillages (noeuds, faces ou mailles) avec une valeur par élément. Ces variables sont définies par la classe template <a class="el" href="../../d7/d20/classArcane_1_1MeshVariableScalarRefT.html" title="Variable scalaire sur un type d&#39;entité du maillage.">Arcane::MeshVariableScalarRefT</a>.</p>
<p >Leur fonctionnement est assez similaire à celui d'un tableau C standard. On utilise l'opérateur <a class="el" href="../../d7/d02/classArccore_1_1ArrayView.html#acd7b7f6238da4b76800b781f8a48d71f" title="i-ème élément du tableau.">Arcane::VariableRefArrayT::operator[]()</a> pour récupérer une référence sur le type de la variable pour un élément du maillage donné. Cet opérateur est surchargé pour prendre en argument un itérateur sur un élément du maillage.</p>
<p >Les grandeurs se déclarent et s'utilisent de manière similaire quels que soient le type d'élément du maillage. Elles sont dimensionnées automatiquement lors de l'initialisation au nombre d'éléments du maillage du genre de la variable.</p>
<p >Par exemple, avec la variable <em>m_volume</em> de type <em><a class="el" href="../../d3/d00/group__Variable.html#ga135a2515548fbcacb89c3ce1a2410b79" title="Grandeur au centre des mailles de type réel.">Arcane::VariableCellReal</a></em>:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="../../d7/d20/classArcane_1_1MeshVariableScalarRefT.html">Arcane::VariableCellReal</a> m_volume = ...;</div>
<div class="line"><a class="code hl_define" href="../../d6/d0f/ItemEnumerator_8h.html#aaf5910d68ad8428248f844535ab071f3">ENUMERATE_CELL</a>(i,allCells()) {</div>
<div class="line">  m_volume[i] = 2.0;     <span class="comment">// Affecte la valeur 2.0 au volume de la maille courante</span></div>
<div class="line">  cout &lt;&lt; m_volume[i];   <span class="comment">// Imprime le volume de la maille courante</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// il est possible de faire les mêmes opérations avec la maille</span></div>
<div class="line">  <span class="comment">// ATTENTION c&#39;est moins performant</span></div>
<div class="line">  Cell cell = *i;         <span class="comment">// Déclare une référence à une maille.</span></div>
<div class="line">  m_volume[cell] = 2.0;   <span class="comment">// Affecte la valeur 2.0 au volume de la maille &#39;cell&#39;</span></div>
<div class="line">  cout &lt;&lt; m_volume[cell]; <span class="comment">// Imprime le volume de la maille &#39;cell&#39;</span></div>
<div class="line">}</div>
<div class="ttc" id="aItemEnumerator_8h_html_aaf5910d68ad8428248f844535ab071f3"><div class="ttname"><a href="../../d6/d0f/ItemEnumerator_8h.html#aaf5910d68ad8428248f844535ab071f3">ENUMERATE_CELL</a></div><div class="ttdeci">#define ENUMERATE_CELL(name, group)</div><div class="ttdoc">Enumérateur générique d'un groupe de mailles.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d0f/ItemEnumerator_8h_source.html#l00260">ItemEnumerator.h:260</a></div></div>
<div class="ttc" id="aclassArcane_1_1MeshVariableScalarRefT_html"><div class="ttname"><a href="../../d7/d20/classArcane_1_1MeshVariableScalarRefT.html">Arcane::MeshVariableScalarRefT&lt; Cell, Real &gt;</a></div></div>
</div><!-- fragment --><p ><b>Variables tableaux sur le maillage</b></p>
<p >Il s'agit des variables sur les éléments du maillage (noeuds, faces ou mailles) avec un tableau de valeurs par éléments. Ces variables sont définies par la classe template <a class="el" href="../../dd/d95/classArcane_1_1MeshVariableArrayRefT.html" title="Variable tableau sur un type d&#39;entité du maillage.">Arcane::MeshVariableArrayRefT</a>.</p>
<p >Le fonctionnement de ces variables est identique à celui des variables scalaires sur le maillage mais l'opérateur <a class="el" href="../../dd/d95/classArcane_1_1MeshVariableArrayRefT.html#ada0a569c94d7323f136f42b56e059374" title="Valeur non modifiable de l&#39;entité item.">Arcane::MeshVariableArrayRefT::operator[]()</a> retourne un tableau de valeurs du type de la variable.</p>
<p >Il est possible de changer le nombre d'éléments de la deuxième dimension de ce tableau par la méthode Arcane::MeshVariableArrayRefT::resize().</p>
<p >Par exemple, avec la variable <em>m_temperature</em> de type <em><a class="el" href="../../d3/d00/group__Variable.html#gaee6feded16c556185773d761fc09796f" title="Grandeur au centre des mailles de type tableau de réel.">Arcane::VariableCellArrayReal</a></em>:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="../../dd/d95/classArcane_1_1MeshVariableArrayRefT.html">Arcane::VariableCellArrayReal</a> m_temperature = ...;</div>
<div class="line">m_temperature.resize(3); <span class="comment">// Chaque maille aura 3 valeurs de temperature</span></div>
<div class="line"><a class="code hl_define" href="../../d6/d0f/ItemEnumerator_8h.html#aaf5910d68ad8428248f844535ab071f3">ENUMERATE_CELL</a>(i,allCells()) {</div>
<div class="line">  m_volume[i][0] = 2.0;        <span class="comment">// Affecte la valeur 2.0 à la première temperature de la maille courante</span></div>
<div class="line">  cout &lt;&lt; m_volume[i][1];      <span class="comment">// Imprime la 2ème température de la maille courante</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// il est possible de faire les mêmes opérations avec la maille</span></div>
<div class="line">  <span class="comment">// ATTENTION c&#39;est moins performant</span></div>
<div class="line">  Cell cell = *i;            <span class="comment">// Déclare une référence à une maille.</span></div>
<div class="line">  m_volume[cell][0] = 2.0;   <span class="comment">// Affecte la valeur 2.0 à la première temperature de la maille &#39;cell&#39;</span></div>
<div class="line">  cout &lt;&lt; m_volume[cell][1]; <span class="comment">// Imprime la 2ème température de la maille &#39;cell&#39;</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassArcane_1_1MeshVariableArrayRefT_html"><div class="ttname"><a href="../../dd/d95/classArcane_1_1MeshVariableArrayRefT.html">Arcane::MeshVariableArrayRefT</a></div><div class="ttdoc">Variable tableau sur un type d'entité du maillage.</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d47/MeshVariableArrayRef_8h_source.html#l00108">MeshVariableArrayRef.h:110</a></div></div>
</div><!-- fragment --><hr  />
<div class="section_buttons"> <span class="back_section_button"> <a class="el" href="../../dc/d6a/arcanedoc_core_types_module.html">Module</a> </span> <span class="next_section_button"> <a class="el" href="../../d6/d6b/arcanedoc_core_types_entrypoint.html">Point d'entrée</a> </span> </div> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">%Arcane</a></li><li class="navelem"><a class="el" href="../../d4/dc9/arcanedoc_core_types.html">Types fondamentaux</a></li>
    <li class="footer">Généré le Vendredi 23 Septembre 2022 11:31:53 pour Arcane par <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>

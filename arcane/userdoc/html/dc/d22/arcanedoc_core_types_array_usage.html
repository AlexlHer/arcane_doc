<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <meta name="generator" content="Doxygen 1.9.5" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Arcane: Tableaux</title>
    <link href="../../tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="../../jquery.js"></script>
    <script type="text/javascript" src="../../dynsections.js"></script>
    <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
    <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
    <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../user_colors.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
    <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
    <script type="text/javascript" src="../../script-resize.js"></script>
    <script type="text/javascript" src="../../script-num-lines-code.js"></script>
    <script type="text/javascript">
      DoxygenAwesomeDarkModeToggle.title = "Thème clair/sombre";
      DoxygenAwesomeDarkModeToggle.init();
      DoxygenAwesomeFragmentCopyButton.title = "Copier le code dans le presse-papier";
      DoxygenAwesomeFragmentCopyButton.init();
      DoxygenAwesomeParagraphLink.init();
      DoxygenAwesomeInteractiveToc.init();
      waitElemForResizeSideNav();
      setOldSize();
    </script>
  </head>
  <body>
    <!--BEGIN CORNER_GITHUB-->
    <!-- https://tholman.com/github-corners/ -->
    <a href="https://github.com/arcaneframework/framework" class="github-corner" aria-label="Voir les sources sur GitHub">
      <svg width="70" height="70" viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path
          d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
          fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path
          d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
          fill="currentColor" class="octo-body"></path>
      </svg>
    </a>
    <!--END CORNER_GITHUB-->
      <div id="top">
        <!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
          <table cellspacing="0" cellpadding="0">
            <tbody>
              <tr id="projectrow">
                <td id="projectlogo">
                  <a href="../../index.html" title="Aller à la page principale">
                    <img alt="Logo" src="../../cea_ifpen_logo.png" />
                  </a>
                </td>
              </tr>
              <tr id="projectrow">
                <td id="projectalign">
                  <div id="projectname">Arcane
                    <span id="projectnumber">&#160;v3.7.0.0</span>
                  </div>
                  <div id="projectbrief">Documentation utilisateur</div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- end header part --><!-- Généré par Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dc/d22/arcanedoc_core_types_array_usage.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Chargement...</div>
<div class="SRStatus" id="Searching">Recherche...</div>
<div class="SRStatus" id="NoMatches">Aucune correspondance</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Tableaux </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table des matières</h3>
<ul><li class="level1"><a href="#arcanedoc_core_types_array_usage_type">Types tableaux</a></li>
<li class="level1"><a href="#arcanedoc_core_types_array_usage_argument">Passage de tableaux en arguments</a></li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="md_doc_doc_user_chap_core_types_9_array"></a></p>
<h1><a class="anchor" id="arcanedoc_core_types_array_usage_type"></a>
Types tableaux</h1>
<p >L'utilisation des tableaux dans Arcane utilise deux types de classes: les <em>conteneurs</em> et les <em>vues</em>.</p>
<p >Les conteneurs tableaux permettent de stocker des éléments et gèrent la mémoire pour ce stockage. Les vues représentent un sous-ensemble d'un conteneur et sont des objets <b>temporaires</b>.</p>
<p >Les classes gérant les conteneurs ont un nom qui finit par <em>Array</em>. Les conteneurs ont les caractéristiques suivantes:</p><ul>
<li>ils gèrent la mémoire nécessaire pour conserver leurs éléments.</li>
<li>les éléments sont conservés de manière contigüe en mémoire. Il est donc possible d'utiliser ces conteneurs à des fonctions en langage C par exemple qui prennent en argument des pointeurs.</li>
</ul>
<p >Les classes gérant les vues ont un nom qui finit par <em>View</em>, comme ArrayView ou ConstArrayView. Les vues ont les caractéristiques suivantes:</p><ul>
<li>elles ne gèrent aucune mémoire et sont toutes issues d'un conteneur (qui n'est pas nécessairement une classe <a class="el" href="../../d0/d32/namespaceArcane.html" title="-*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-">Arcane</a>)</li>
<li>elles ne sont valide que tant que le conteneur associé existe et n'est pas modifié.</li>
<li>elles s'utilisent toujours par valeur et jamais par référence (on ne leur applique pas l'opérateur &amp;).</li>
</ul>
<p >En général, il ne faut donc pas utiliser de vue comme champ d'une classe.</p>
<p >Le tableau suivant donne la liste des classes gérant les tableaux et les vues associées:</p>
<table class="doxtable">
<tr>
<th>Description </th><th>Classe de base </th><th>Sémantique par référence </th><th>Sémantique par valeur </th><th>Vue modifiable </th><th>Vue constante  </th></tr>
<tr>
<td>Tableau 1D </td><td>Array </td><td>SharedArray </td><td>UniqueArray </td><td>ArrayView </td><td>ConstArrayView </td></tr>
<tr>
<td>Tableau 2D classique </td><td>Array2 </td><td>SharedArray2 </td><td>UniqueArray2 </td><td>Array2View </td><td>ConstArray2View  </td></tr>
<tr>
<td>Tableau 2D avec 2ème dimension variable </td><td>MultiArray2 </td><td>SharedMultiArray2 </td><td>UniqueMultiArray2 </td><td>MultiArray2View </td><td>ConstMultiArray2View  </td></tr>
</table>
<p >Pour chaque type de tableau, il existe une classe de base dont hérite une implémentation avec sémantique par référence et une implémentation avec sémantique par valeur. La classe de base n'est ni copiable ni affectable. La différence de sémantique concerne le fonctionnement des opérateurs de recopie et d'affectation:</p><ul>
<li>la sémantique par référence signifie que lorsqu'on fait <em>a = b</em>, alors <em>a</em> devient une référence sur <em>b</em> et toute modification de <em>b</em> modifie aussi <em>a</em>. <div class="fragment"><div class="line">SharedArray&lt;int&gt; a1(5);</div>
<div class="line">SharedArray&lt;int&gt; a2;</div>
<div class="line">a2 = a1; // a2 et a1 font référence à la même zone mémoire.</div>
<div class="line">a1[3] = 1;</div>
<div class="line">a2[3] = 2;</div>
<div class="line">std::cout &lt;&lt; a1[3]; // affiche &#39;2&#39;</div>
</div><!-- fragment --></li>
<li>la sémantique par valeur signifie que lorsqu'on fait <em>a = b</em>, alors <em>a</em> devient une copie des valeurs de <em>b</em> et par la suite les tableaux <em>a</em> et <em>b</em> sont indépendants. <div class="fragment"><div class="line">UniqueArray&lt;int&gt; a1(5);</div>
<div class="line">UniqueArray&lt;int&gt; a2;</div>
<div class="line">a2 = a1; // a2 devient une copie de a1.</div>
<div class="line">a1[3] = 1;</div>
<div class="line">a2[3] = 2;</div>
<div class="line">std::cout &lt;&lt; a1[3]; // affiche &#39;1&#39;</div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="arcanedoc_core_types_array_usage_argument"></a>
Passage de tableaux en arguments</h1>
<p >Voici les règles de bonnes pratiques à respecter pour le passage de tableaux en argument:</p>
<table class="doxtable">
<tr>
<th>Argument </th><th>Besoin </th><th>Opérations possibles  </th></tr>
<tr>
<td>ConstArrayView </td><td>Tableau 1D en lecture seule </td><td><div class="fragment"><div class="line">x = a[i];</div>
</div><!-- fragment -->   </td></tr>
<tr>
<td>ArrayView </td><td>Tableau 1D en lecture et/ou écriture mais dont la taille n'est pas modifiable </td><td><div class="fragment"><div class="line">x = a[i];</div>
<div class="line">a[i] = y;</div>
</div><!-- fragment -->   </td></tr>
<tr>
<td>Array&amp; </td><td>Tableau 1D modifiable et pouvant changer de nombre d'éléments </td><td><div class="fragment"><div class="line">x = a[i];</div>
<div class="line">a[i] = y;</div>
<div class="line">a.resize(u);</div>
<div class="line">a.add(v);</div>
</div><!-- fragment -->   </td></tr>
<tr>
<td>const Array&amp; </td><td>Interdit. Utiliser ConstArrayView à la place </td><td></td></tr>
<tr>
<td>ConstArray2View </td><td>Tableau 2D en lecture seule </td><td><div class="fragment"><div class="line">x = a[i][j];</div>
</div><!-- fragment -->   </td></tr>
<tr>
<td>Array2View </td><td>Tableau 2D en lecture et/ou écriture mais dont la taille n'est pas modifiable </td><td><div class="fragment"><div class="line">x = a[i][j];</div>
<div class="line">a[i][j] = y;</div>
</div><!-- fragment -->   </td></tr>
<tr>
<td>Array2&amp; </td><td>Tableau 2D modifiable et pouvant changer de nombre d'éléments </td><td><div class="fragment"><div class="line">x = a[i][j];</div>
<div class="line">a[i][j] = y;</div>
<div class="line">a.resize(u,v);</div>
</div><!-- fragment -->   </td></tr>
<tr>
<td>const Array&amp; </td><td>Interdit. Utiliser ConstArrayView à la place </td><td></td></tr>
</table>
<hr  />
<div class="section_buttons"> <span class="back_section_button"> <a class="el" href="../../d4/d6d/arcanedoc_core_types_timeloop.html">Boucle en temps</a> </span></div><div class="section_buttons"></div> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">%Arcane</a></li><li class="navelem"><a class="el" href="../../d4/dc9/arcanedoc_core_types.html">Types fondamentaux</a></li>
    <li class="footer">Généré le Vendredi 23 Septembre 2022 11:31:53 pour Arcane par <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
